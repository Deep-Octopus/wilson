import"./index.d44c7abf.js";/* empty css               */import{d as x,e,bN as z,B as C,aK as s,aJ as B,aX as D,A as N}from"./arco.96dc0c0a.js";import{u as w}from"./loading.41f5346b.js";import{L as y}from"./api.44574a56.js";import S from"./tool.f6ef2258.js";import{_ as I}from"./table.vue_vue_type_script_setup_true_lang.f8ad6447.js";import{_ as b}from"./form.vue_vue_type_script_setup_true_lang.9abd0bfd.js";import{_ as k}from"./search.vue_vue_type_script_setup_true_lang.c8f8cc4f.js";import"./chart.53dcd0fe.js";import"./vue.a606b137.js";import"./lodash.05d1fc00.js";/* empty css               */import"./sortable.esm.41bdaeb5.js";/* empty css               *//* empty css              *//* empty css              */const R={class:"container"},U={name:"ManagerServer"},Z=x({...U,setup(L){const l=e(),r=e({}),{setLoading:m}=w(!0),f=e(!1),c=e(),u=e("medium"),p=e(0),t=e({page:1,pageSize:10}),d=e([{title:"\u670D\u52A1\u6807\u8BC6",dataIndex:"keyword",slotName:"keyword"},{title:"\u670D\u52A1\u540D\u79F0",dataIndex:"name",slotName:"name"},{title:"\u670D\u52A1\u72B6\u6001",dataIndex:"status",slotName:"status"},{title:"\u670D\u52A1\u63CF\u8FF0",dataIndex:"description",slotName:"description"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",slotName:"createdAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt",slotName:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations"}]),o=async()=>{m(!0);try{const{data:a}=await y(t.value);c.value=a.list,p.value=a.total}finally{m(!1)}};o();const v=async a=>{const{pageSize:n}=t.value;t.value={...a,page:1,pageSize:n},o()},_=()=>{r.value={},l.value.showAddDrawer()},g=a=>{r.value={...a},l.value.showUpdateDrawer()},h=async a=>{t.value.page=a.page,t.value.pageSize=a.pageSize,o()};return(a,n)=>{const A=D("Breadcrumb"),F=z;return N(),C("div",R,[s(A),s(F,{class:"general-card"},{default:B(()=>[s(k,{onSearch:v}),s(S,{size:u.value,"onUpdate:size":n[0]||(n[0]=i=>u.value=i),columns:d.value,"onUpdate:columns":n[1]||(n[1]=i=>d.value=i),onRefresh:o,onAdd:_},null,8,["size","columns"]),s(I,{columns:d.value,loading:f.value,data:c.value,size:u.value,total:p.value,pagination:t.value,onPageChange:h,onUpdate:g,onRefresh:o},null,8,["columns","loading","data","size","total","pagination"]),s(b,{ref_key:"formRef",ref:l,data:r.value,onRefresh:o},null,8,["data"])]),_:1})])}}});export{Z as default};
